***在线客服系统部署文档***

1. 一．clone项目

在D盘根目录下

SSH:git clone git@se.jisuanke.com:custom-service/HFUT\_Group1.git

HTTPS: https://se.jisuanke.com/custom-service/HFUT\_Group1.git

项目目录为：

HFUT\_Group : 后台项目

firstVue : 用户的前台项目

CustomerService : 客服与客服管理的前台项目

test : 模拟企业端的网站

二．后台配置

1.安装Jdk1.8

详细安装教程参见 [https://www.cnblogs.com/zlslch/p/5658399.html](https://www.cnblogs.com/zlslch/p/5658399.html)

2.安装与配置tomcat7

详细安装教程参见 [https://blog.csdn.net/louisgod/article/details/76092950](https://blog.csdn.net/louisgod/article/details/76092950)

3.安装与配置mysql

详细安装教程参见 [https://www.cnblogs.com/xch-yang/p/7661069.html](https://www.cnblogs.com/xch-yang/p/7661069.html)

然后建立数据库，将/HFUT\_Group1/src/main/java/com/cn/custom\_service/util目录下的sql语句直接复制下来即可

4.eclipse+maven的安装与配置

详细安装教程参见 [https://blog.csdn.net/ejinxian/article/details/72637763](https://blog.csdn.net/ejinxian/article/details/72637763)

然后eclipse导入HFUT\_Group项目

项目右键-maven-update maven

项目右键-maven-install

项目右键属性 -&gt; Deployment assembly -&gt; Add-java build path -&gt;maven

最后~run as server，就可以看见一个helloworld，端口号为8080，即后台项目部署成功

三．前台配置

1.安装Node

详细教程参见 [http://www.runoob.com/nodejs/nodejs-install-setup.html](http://www.runoob.com/nodejs/nodejs-install-setup.html)

2.安装cnpm

npm install -g cnpm Cregistry=http://registry.npm.taobao.org

3.安装vue-cli脚手架构建工具

npm install -g vue-cli

4.运行前台项目

客服与客服管理端：

打开cmd或者node，首先进入Customerservice目录

cnpm install

cnpm run dev

此时进入了客服与客服管理的首页面进行登录，端口号为8081。可进入数据库customservice客服表与csadmin客服管理表中查看数据登录

用户端：

再打开cmd或者node，进入firstVue目录下

cnpm install

cnpm run dev

此时进入了用户端的首页，端口号为8082（仅运行项目即可，主要为企业端提供支持！此项目不作为最终展示效果）

企业端：

最后进入test目录下，用浏览器打开企业网站（test.html）

四．项目部署成功

至此整个项目部署完毕


***功能测试文档***

功能测试一：

登录功能（企业管理人员和客服）

测试内容：

验证客服是否能成功登录

测试分析：

1. 不填写账号密码登录；

2. 填写账号，不填写密码登录；

3. 填写密码，不填写账号登录；

4. 填写非法账号登录；

5. 填写合法账号但不存在的账号登录；

6. 填写合法并存在的账号，错误密码登录；

7. 填写合法并存在的账号，正确密码，角色选择错误登录；

8. 填写合法账号密码登录；

测试用例：

| 测试分析序号 | 测试用例 | 测试说明 |
| --- | --- | --- |
| 2 | 646377088@qq.com | 输入合法账号登录 |
| 3 | 123456 | 输入密码登录 |
| 4 | [123456sasa@qq.com；](mailto:123456sasa@qq.com%EF%BC%9B)     123456 | 非法账号 |
| 5 | [1436965047@qq.com；](mailto:1436965047@qq.com%EF%BC%9B)     123456 | 不存在账号 |
| 6 | [646377088@qq.com；](mailto:646377088@qq.com%EF%BC%9B)      admin | 错误密码 |
| 7 | [123456sasa@qq.com；](mailto:123456sasa@qq.com%EF%BC%9B)     123456 | 登录角色错误 |
| 8 | [123456sasa@qq.com；](mailto:123456sasa@qq.com%EF%BC%9B)     123456 | 合法操作 |



测试结果：

| 测试分析序号 | 测试结果 | 测试说明 |
| --- | --- | --- |
| 1 | 登录失败 | 非空验证 |
| 2 | 登录失败 | 非空验证 |
| 3 | 登录失败 | 非空验证 |
| 4 | 登录失败 | 账号格式错误 |
| 5 | 登录失败 | 账号或密码错误 |
| 6 | 登录失败 | 账号或密码错误 |
| 7 | 登录失败 | 账号或密码错误 |
| 8 | 登录成功，成功跳转到客服首页 | 登录成功 |



功能测试二：

聊天功能

测试功能：

客服与顾客聊天功能



测试是内容：

测试文字是否能发送，测试表情是否能发送，测试图片是否能发送；

测试分析：

1. 数字，符号，英文字母，中文汉字发送；

2. 表情发送；

3. 图片发送；

4. 字符与表情发送；

5. 字符与图片发送；

6. 表情与图片发送；

7. 新接待一个用户，客服接待列表更新；

8. 用户新消息提醒；

9. 客服结束会话；

10. 客服切换会话；

测试用例：

| 测试分析序号 | 测试用例 | 测试说明 |
| --- | --- | --- |
| 1 | Hello，1号客服很高兴为您服务！(#^.^#) | 无 |
| 2 | Emoji表情&nbsp; |  |
| 3 | 1.jpg&nbsp;2.png | 两张不同类型的图片 |
| 4 |你好，这是1号客服 | 字符与表情 |
| 5 | 你好，客服发送了一张图片。  1.jpg | 图片与文字发送 |
| 6 | 1.jpg | Emoji表情与图片发送 |
| 7 | 新接待一个用户 | 用户列表用户变动 |
| 8 | 用户新发送一则消息 | 客服收到新消息 |
| 9 | 客服点击与该用户会话的结束按钮 | 用户列表用户变动 |
| 10 | 客服点击用户列表中其他用户 | 切换聊天 |

测试结果：

| 测试分析序号 | 测试结果 | 测试说明 |
| --- | --- | --- |
| 1 | 用户能成功收到消息 | 测试成功 |
| 2 | 用户能成功收到消息 | 测试成功 |
| 3 | 用户能成功收到消息 | 测试成功 |
| 4 | 用户能成功收到消息 | 测试成功 |
| 5 | 图片与字符能分别单独接受 | 选择好图片之后直接发送，不与字符一起发送 |
| 6 | 图片与表情能分别单独接受 | 选择好图片之后直接发送，不与表情一起发送 |
| 7 | 客服的接待用户列表新添一个用户 | 用户列表动态更新 |
| 8 | 来自用户的新消息的提醒 | 新消息提醒 |
| 9 | 用户接待列表删除该用户 | 用户列表动态更新 |
| 10 | 切换到与该用户的聊天窗口 | 切换聊天 |



测试功能三：

修改密码



测试内容：

验证客服是否能成功修改密码

客服首先需要验证旧密码，成功验证之后进行新密码设置

测试分析：

1. 错误的旧密码输入；

2. 正确的旧密码输入；

3. 不填写新密码修改；

4. 填写小于6位密码；

5. 填写大于12位密码；

6. 填写合法的新密码，不填写重复验证密码；

7. 填写合法前后输入不一致的新密码。

8. 填写前后一致的新密码；

测试用例：

| 测试分析序号 | 测试用例 | 测试说明 |
| --- | --- | --- |
| 1 | 1234567 | 错误旧密码 |
| 2 | 123456 | 正确旧密码 |
| 3 | 直接提交修改 | 无 |
| 4 | 123 | 小于6位 |
| 5 | 123456789abcdefg | 大于12位 |
| 6 | 12345678 | 无重复验证输入 |
| 7 | 12345678；       abcdefg | 前后不一致输入 |
| 8 | 1234567；   1234567 | 正确合法操作 |



测试结果：

| 测试分析序号 | 测试结果 | 测试说明 |
| --- | --- | --- |
| 1 | 旧密码验证失败 | 无 |
| 2 | 跳转修改页面界面 | 旧密码验证成功 |
| 3 | 修改失败 | 非空验证 |
| 4 | 修改失败 | 密码长度不满足 |
| 5 | 修改失败 | 密码长度不满足 |
| 6 | 修改失败 | 非空验证 |
| 7 | 修改失败 | 确认密码验证失败 |
| 8 | 修改成功 | 修改成功 |



测试功能四：

 用户排队逻辑

 测试内容：

 回头客关闭状态下，用户排队情况

  回头客开启状态下，用户排队情况

测试分析:

 1. 回头客关闭状态下，当有一个客服接待人数不满时，新来一个用户；

 2. 回头客关闭状态下，当至少两个客服接待人数不满时，新来一个用户；

 3. 回头客关闭状态下，当所有客服接待人数达到最大值时，其中有一个客服的排队人数最小时，新来一个用户；

 4. 回头客关闭状态下，当所有客服接待人数达到最大值时，其中至少两个客服的排队人数最小时，新来一个用户；

5. 回头客关闭状态下，当所有客服接待人数达到最大值时，其中有一个客服选择离线状态，观察该客服的排队用户分配情况；

 6. 回头客关闭状态下，当所有客服接待人数达到最大值时，其中有一个客服选择离线状态，新来一个用户；

 7. 回头客关闭状态下，当所有客服接待人数达到最大值时，其中所有客服选择离线状态，新来一个用户；

 8. 回头客关闭状态下，当有一个客服接待人数不满时，同时新来两个用户；

 9. 回头客关闭状态下，当至少两个客服接待人数不满时，同时新来两个用户；

 10. 回头客关闭状态下，当所有客服接待人数达到最大值时，其中有个客服的排队人数最小时，同时新来两个用户；

 11. 回头客关闭状态下，当所有客服接待人数达到最大值时，其中至少两个客服的排队人数最小时，同时新来两个用户；

 12. 回头客关闭状态下，当所有客服接待人数达到最大值时，其中有一个客服选择离线状态，同时新来两个用户；

 13. 回头客关闭状态下，当所有客服接待人数达到最大值时，其中所有客服选择离线状态，同时新来两个用户；

 14. 回头客开启状态下，当有一个未接待该用户的客服接待人数不满时，新来一个回头客。

 15. 回头客开启状态下，当所有客服接待人数达到最大值时，其中有一个未接待该用户的客服的排队人数最小时，新来一个回头客；

 16. 回头客开启状态下，当所有客服接待人数达到最大值时，其中存在有至少两个接待过该用户的客服时，新来一个回头客；

17. 回头客开启状态下，当所有客服接待人数达到最大值时，其中一个客服选择离线状态，观察该客服的排队用户分配情况；

 18. 回头客开启状态下，当所有客服接待人数达到最大值时，其中有一个接待过该用户的客服选择离线状态，新来一个回头客；

19. 回头客开启状态下，当所有客服接待人数达到最大值时，其中有两个接待过该用户的客服选择离线状态，新来两个回头客；

 20. 回头客开启状态下，当所有客服接待人数达到最大值时，其中所有客服选择离线状态，新来一个回头客；

测试用例：

 如测试分析设置新添加用户

测试结果：

| 测试分析序号 | 测试结果 | 测试说明 |
| --- | --- | --- |
| 1 | 用户直接进入到该客服的服务人数队列 |   |
| 2 | 进入序号小的客服服务人数队列 |   |
| 3 | 进入该客服的等待人数队列 |   |
| 4 | 进入序号小的客服等待人数队列 |   |
| 5 | 该客服的等待人数按之前的方式随机分配到其他客服的等待人数队列中 | 随机分配给用户客服 |
| 6 | 该用户被随机分配到其他客服等待人数队列中 | 该用户无法排到离线客服 |
| 7 | 无法联系客服 | 离线客服无法联系 |
| 8-13 | 分配失败 | 无法处理两个用户同时的请求分配，不支持多线程 |
| 14 | 该用户进入回头客客服的等待人数队列中 | 回头客优先 |
| 15 | 该用户进入回头客客服的等待人数队列中 | 回头客优先 |
| 16 | 进入序号最小的回头客客服等待人数队列中 | 多个接待过用户的客服，按最小序号的客服分配给用户 |
| 17 | 无法分配 | 设计时没有考虑此种情况 |
| 18 | 该用户按照回头客功能关闭状态下分配 |   |
| 19 | 进入序号最小的客服等待人数队列 | 接待过用户的客服离线时，按照回头客关闭情况下分配 |
| 20 | 无法分配 | 用户找不到客服联系 |



功能测试五：

 机器人配置

 测试内容：

  通过企业管理人员对机器人的配置包括是否启用，添加新的关键词与回复，删除关键词与回复，修改关键词与回复。

 测试分析：

  1. 添加机器人，不填写关键词与回复提交添加；

  2. 添加机器人，只填写关键词提交添加；

  3. 添加机器人，只填写回复提交添加；

  4. 添加机器人，填写关键词与回复提交添加；

  5. 修改机器人，修改关键词，提交修改；

  6. 修改机器人，修改回复，提交修改；

  7. 删除机器人；

  8. 启用与关闭机器人的启用；

 测试用例：

| 测试分析序号 | 测试用例 | 测试说明 |
| --- | --- | --- |
| 1 | 无 | 直接提交添加 |
| 2 | 移动流量 | 关键词的填写 |
| 3 | 移动流量套餐：50元/月，包含10G流量，月末不清零； | 回复的填写 |
| 4 | 移动流量；移动流量套餐：50元/月，包含10G流量，月末不清零； | 正确填写关键词与回复 |
| 5 | 流量套餐； | 修改该关键词 |
| 6 | 移动流量套餐：50元/月，包含10G流量，月末不清零；活动期限，即日起截至2018年6月1日 | 修改该回复 |
| 7 | 单击删除按钮 | 对应机器人的删除按钮 |
| 8 | 单击启用开关 | 右上角的机器人总启用/关闭按钮 |



 测试结果：

| 测试分析序号 | 测试结果 | 测试说明 |
| --- | --- | --- |
| 1 | 添加失败 | 非空验证 |
| 2 | 添加失败 | 非空验证 |
| 3 | 添加失败 | 非空验证 |
| 4 | 添加成功，并同步显示出来 | 通过非空验证的提交 |
| 5 | 修改成功，并同步显示 | 同步显示新修改的关键词 |
| 6 | 修改成功，并同步显示 | 同步显示新修改的回复 |
| 7 | 删除成功 | 同步显示更新后的机器人 |
| 8 | 用户将无法联系机器人 | 启用与关闭影响用户与机器人的交互 |



测试功能六：

企业管理人员注册

测试内容：

企业管理人员通过邮箱注册账号，填写信息包括公司名字，公司邮箱，公司负责人电话

 测试分析

  1. 不填写信息提交；

  2. 只填写公司名字注册；

  3. 只填写公司邮箱注册；

  4. 只填写公司负责人电话注册；

  5. 填写非法邮箱注册；

  6. 填写非法电话注册；

  7. 填写合法信息提交，不确认邮件信息；

  8. 填写合法信息提交，确认邮件信息；



 测试用例：

| 测试分析序号 | 测试用例 | 测试说明 |
| --- | --- | --- |
| 1 | 单击注册按钮 |   |
| 2 | 腾讯科技有限公司 | 公司名字 |
| 3 | 10000@qq.com | 公司邮箱 |
| 4 | 12345678912 | 电话 |
| 5 | 18856988227；2018.com;1083172671@q;20180424@163.;20180424@.com;@163.com;Select \* from admin where 1 or 1 = 1;我的邮箱；邮箱@163.com | 非法无效的邮箱信息 |
| 6 | This is a telno; [163@163.com](mailto:163@163.com);110;01234567891;1885696681121;我的电话; | 非法无效的电话信息 |
| 7 | 腾讯科技有限有限公司 [10000@qq.com](mailto:10000@qq.com)18856966778 | 不通过邮箱注册验证 |
| 8 | 腾讯科技有限有限公司 [10000@qq.com](mailto:10000@qq.com)18856966778 | 通过邮箱注册验证 |



测试结果：

| 测试分析序号 | 测试结果 | 测试说明 |
| --- | --- | --- |
| 1 | 注册失败 | 非法信息验证 |
| 2 | 注册失败 | 非法信息验证 |
| 3 | 注册失败 | 非法信息验证 |
| 4 | 注册失败 | 非法信息验证 |
| 5 | 注册失败 | 非法信息验证 |
| 6 | 注册失败 | 非法信息验证 |
| 7 | 注册失败 | 未通过邮箱验证信息 |
| 8 | 注册成功 | 注册成功 |



测试功能七：

 企业管理人员对客服的管理

 测试功能：

  添加客服，需要填写客服邮箱，选择客服性别，填写客服年龄；查看客服状态

 测试分析：

  1. 不填写信息添加；

  2. 填写邮箱注册添加；

  3. 选择客服性别添加；

  4. 填写客服年龄添加；

  5. 非法邮箱；

  6. 不选择性别；

  7. 非法年龄；

  8. 合法信息



 测试用例:

| 测试分析序号 | 测试用例 | 测试说明 |
| --- | --- | --- |
| 1 | 单击提交按钮 | 非空验证未通过 |
| 2 | 20180424@outlook.com | 非空验证未通过 |
| 3 | 勾选男单选框 | 非空验证未通过 |
| 4 | 21 | 非空验证未通过 |
| 5 | 18856988227；2018.com;1083172671@q;20180424@163.;20180424@.com;@163.com;Select \* from customservice where 1 or 1 = 1;我的邮箱； [邮箱@163.com](mailto:%E9%82%AE%E7%AE%B1@163.com) | 非法邮箱 |
| 6 | [108317721@163.com](mailto:108317721@163.com);21 | 非空验证 |
| 7 | -1;0;1.1200;A;年龄；Select \* from customservice where 1 or 1 = 1; | 非法年龄 |
| 8 | [20180424@163.com](mailto:20180424@163.com)；选择性别女；21 | 合法信息，添加客服信息 |



测试功能八：

该系统的查询功能

测试内容：

企业管理端：

   1. 查看客服正在接待人数；

2. 查看总接待人数；

3. 查看排队人数；

4. 查看机器人信息；

5. 查看客服状态；

客服端：

 1. 查看个人信息；

 2. 查看正在聊天用户的列表；

 3. 查看正在排队用户的列表；

 4. 查看正在服务用户的聊天记录；

 5. 查看服务状态；

 测试用例：

根据测试内容点击对应的功能按钮测试



  测试结果：

   正常使用
头像设置及修改

* 测试方案

1. 测试是否能正常上传图片至服务器并且返回正确的图片地址
2. 测试是否支持jpg,png
3. 测试是否能在页面正常显示设置的头像
4. 测试在更改头像后是否能显示新的头像
5. 测试能否禁止上传非图片类型的文件

* 测试用例

| 测试序号 | 测试用例 | 测试说明 |
|-|:-:|-:|
| 1, 2 | 选择两张.jpg, .png的图片分别上传 | 测试图片是否能够成功上传，是否支持jpg与png文件 |
| 3, 4 | 先后上传两张不同图片 | 测试是否能正确显示和修改头像 |
| 5 | 选择一个非图片类型文件长传(.txt) | 测试能否禁止非图片文件的上传 |

* 测试结果

| 测试序号 | 测试结果 |
|-|:-:|
| 1, 2 | 成功上传图片并能返回正确地址 |
| 3, 4 | 正常显示并成功修改了头像 |
| 5 | 上传失败，能成功禁止非图片的文件上传 |



</br></br></br>
客服修改个人信息

* 测试方案

1. 测试是否能识别合法的邮件地址
2. 测试是否能成功修改邮件地址
3. 测试能否识别合法的手机号码格式
4. 测试能否成功修改手机号码
5. 测试能否成功修改最大接待人数
6. 测试能否成功切换客服状态

* 测试用例

| 测试序号 | 测试用例 | 测试说明 |
|-|:-:|-:|
| 1, 2 | 123456789</br>123456789@</br>123456789@qq.com | 两组格式不合法的邮箱，一组格式正确的邮箱 |
| 3, 4 | 187551178631</br>12147236456</br>18755117863 | 两组格式不合法手机号，一组格式合法的手机号 |
| 5 | 点击选择不同人数 |  |
| 6 | 点击切换状态按钮 |  |

* 测试结果

| 测试序号 | 测试结果 |
|-|:-:|
| 1, 2 | 提交失败</br>提交失败</br>提交成功 |
| 3, 4 | 提交失败</br>提交失败</br>提交成功 |
| 5 | 提交成功，数据库数据变更 |
| 6 | 提交成功，数据库变更 |